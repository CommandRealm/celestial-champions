##Function spreads players. It is done with @s and is used at the start of the game as well as on respawns.


##Spreadplayers
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=1}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=2}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=3}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=4}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=5}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=6}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=7}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=8}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=9}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=10}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=11}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=12}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=13}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=14}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=15}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=16}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=17}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=18}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=19}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=20}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=21}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=22}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=23}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=24}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=25}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=26}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=27}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=28}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=29}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=30}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=31}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=32}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=33}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=34}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=35}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=36}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=37}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=38}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=39}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=40}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=41}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=42}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=43}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=44}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=45}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=46}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=47}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=48}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=49}]
execute at @e[type=minecraft:area_effect_cloud,tag=map_marker,limit=1] run spreadplayers ~ ~ 0 50 true @r[tag=spreadplayers,tag=playing,scores={id=50}]

##Teleport up
execute as @a[tag=playing,tag=spreadplayers] at @s run tp @s ~ 96 ~ facing entity @e[type=area_effect_cloud,tag=map_marker,sort=nearest,limit=1]
execute if score $map settings matches 17 as @a[tag=playing,tag=spreadplayers] at @s run tp @s ~ 105 ~ facing entity @e[type=area_effect_cloud,tag=map_marker,sort=nearest,limit=1]